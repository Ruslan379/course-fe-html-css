console.log(
    '%c 2.–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–æ–º—ñ—Å—É. ',
    'color: white; background-color: #D33F49',
);

//! üìï –í—Å–µ –ø—Ä–æ –ø—Ä–æ–º—ñ—Å–∏ 
console.warn("üìï –í—Å–µ –ø—Ä–æ –ø—Ä–æ–º—ñ—Å–∏:");
console.warn("–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø—Ä–æ–º—ñ—Å—ñ–≤ (MDN): \n https://developer.mozilla.org/ru/docs/Web/JavaScript/Guide/Using_promises");
console.warn("–©–æ —Ç–∞–∫–µ –ø—Ä–æ–º—ñ—Å–∏ —É JavaScript. –§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∏–π JavaScript: \n https://www.youtube.com/watch?v=4X7OjIjjaQE");
console.warn("–ü—Ä–æ–º–∏—Å—ã –≤ JavaScript [–ü–æ–ª–Ω—ã–π –∫—É—Ä—Å 2023] –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤: \n https://www.youtube.com/watch?v=wx5qS8KlQAg");
console.log("-----------------------------------------------------------------------------------");


//! ‚ùå –ü–†–ò–ö–õ–ê–î-1: –ù–µ–æ–±—Ö—ñ–¥–Ω—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø—Ä–æ–º—ñ—Å—ñ–≤
console.warn("‚ùå –ü–†–ò–ö–õ–ê–î-1: –ù–µ–æ–±—Ö—ñ–¥–Ω—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø—Ä–æ–º—ñ—Å—ñ–≤:");
function fetchUserInfo1() {
    let userData1 = null;

    setTimeout(() => {
        // fetch() //! –æ—á—ñ–∫—É—î–º–æ –¥–∞–Ω—ñ –∑ —Å–µ—Ä–≤–µ—Ä—É
        const data1 = { id: 1, name: 'Alex' };
        // return data1; //! —Ç–∞–∫ –Ω–µ –ø—Ä–∞—Ü—é—î
        userData1 = data1;
        console.log("userData1:", userData1); //! {id: 1, name: 'Alex'}
    }, 1000);

    return userData1;
};

function run1() {
    const userInfo1 = fetchUserInfo1();
    console.log("userInfo1:", userInfo1); //! null
};

run1();
console.log("-----------------------------------------------------------------------------------");


//! ‚úÖ –ü–†–ò–ö–õ–ê–î-2: –ù–µ–æ–±—Ö—ñ–¥–Ω—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø—Ä–æ–º—ñ—Å—ñ–≤
console.warn("‚úÖ –ü–†–ò–ö–õ–ê–î-2: –ù–µ–æ–±—Ö—ñ–¥–Ω—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø—Ä–æ–º—ñ—Å—ñ–≤:");
function fetchUserInfo2(callback) {
    setTimeout(() => {
        // fetch() //! –æ—á—ñ–∫—É—î–º–æ –¥–∞–Ω—ñ –∑ —Å–µ—Ä–≤–µ—Ä—É
        const data2 = { id: 1, name: 'Alex' };
        callback(data2);
    }, 1000);
};

function run2() {
    fetchUserInfo2((userInfo2) => {
        console.log("userInfo2:", userInfo2); //! {id: 1, name: 'Alex'}
    });
};

run2();
console.log("-----------------------------------------------------------------------------------");


//! –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–æ–º—ñ—Å—É 
console.warn("–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–æ–º—ñ—Å—É:");
console.warn(`–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–æ–º—ñ—Å—É‚Äã‚Äã: \n ${((window.location.href).split('/')).slice(0, -2).join('/') + '/'}${"lesson-FE4_13/images/creating-promise.png"}`);

//? ‚ú¥Ô∏è –ü—Ä–æ–º—ñ—Å —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è —è–∫ –µ–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—É Promise,
//? —è–∫–∏–π –ø—Ä–∏–π–º–∞—î —Ñ—É–Ω–∫—Ü—ñ—é (executor) —è–∫ –∞—Ä–≥—É–º–µ–Ω—Ç
//? —ñ –≤—ñ–¥—Ä–∞–∑—É –≤–∏–∫–ª–∏–∫–∞—î —ó—ó, —â–µ –¥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –ø—Ä–æ–º—ñ—Å—É.
console.log(
    `%c
    const promise = new Promise((resolve, reject) => {
        // Asynchronous operation
    });
    `,
    'color: blue; font-size: 18px',
);

//? ‚ú¥Ô∏è –§—É–Ω–∫—Ü—ñ—è executor –ø–æ–≤—ñ–¥–æ–º–ª—è—î –µ–∫–∑–µ–º–ø–ª—è—Ä (–ø—Ä–æ–º—ñ—Å),
//? –∫–æ–ª–∏ —ñ —è–∫ –æ–ø–µ—Ä–∞—Ü—ñ—è, –∑ —è–∫–æ—é –≤—ñ–Ω –ø–æ–≤'—è–∑–∞–Ω–∏–π, –±—É–¥–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞.
//? –£ –Ω—ñ–π –º–æ–∂–Ω–∞ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –±—É–¥—å-—è–∫—É –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É –æ–ø–µ—Ä–∞—Ü—ñ—é,
//? –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —è–∫–æ—ó, –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∫–ª–∏–∫–∞—Ç–∏:
//? resolve() - —É —Ä–∞–∑—ñ —É—Å–ø—ñ—à–Ω–æ–≥–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è (—Å—Ç–∞–Ω fulfilled),
//? –∞–±–æ reject() - —É —Ä–∞–∑—ñ –ø–æ–º–∏–ª–∫–∏ (—Å—Ç–∞–Ω rejected).
//? –ó–Ω–∞—á–µ–Ω–Ω—è, —â–æ –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è —Ü—ñ–π —Ñ—É–Ω–∫—Ü—ñ—ó, —ñ–≥–Ω–æ—Ä—É—î—Ç—å—Å—è.
//?     üìå:
//? üî∏ resolve(value) - —Ñ—É–Ω–∫—Ü—ñ—è –¥–ª—è –≤–∏–∫–ª–∏–∫—É —É —Ä–∞–∑—ñ —É—Å–ø—ñ—à–Ω–æ—ó –æ–ø–µ—Ä–∞—Ü—ñ—ó.
//?    –ü–µ—Ä–µ–¥–∞–Ω–∏–π —ó–π –∞—Ä–≥—É–º–µ–Ω—Ç –±—É–¥–µ –∑–Ω–∞—á–µ–Ω–Ω—è–º –≤–∏–∫–æ–Ω–∞–Ω–æ–≥–æ –ø—Ä–æ–º—ñ—Å—É.
//? üî∏ reject(error) - —Ñ—É–Ω–∫—Ü—ñ—è –¥–ª—è –≤–∏–∫–ª–∏–∫—É —É —Ä–∞–∑—ñ –ø–æ–º–∏–ª–∫–∏.
//?    –ü–µ—Ä–µ–¥–∞–Ω–∏–π —ó–π –∞—Ä–≥—É–º–µ–Ω—Ç –±—É–¥–µ –∑–Ω–∞—á–µ–Ω–Ω—è–º –≤—ñ–¥—Ö–∏–ª–µ–Ω–æ–≥–æ –ø—Ä–æ–º—ñ—Å—É.

//todo: –ó–º—ñ–Ω—ñ—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è –∑–º—ñ–Ω–Ω–æ—ó isSuccess, —â–æ–± –≤–∏–∫–ª–∏–∫–∞—Ç–∏ resolve –∞–±–æ reject:
const isSuccess = true; //* ‚úÖ
// const isSuccess = false; //! ‚ùå

const promise = new Promise((resolve, reject) => {
    setTimeout(() => {
        if (isSuccess) {
            resolve("‚úÖ Success! Value passed to resolve function");
        } else {
            reject("‚ùå Error! Error passed to reject function");
        }
    }, 2000);
});

//todo ‚è≥
console.log("promise ‚è≥:", promise); //! Promise¬†{<pending>}

//* ‚úÖ –∞–±–æ ‚ùå
setTimeout(() => {
    console.log("promise_setTimeout:", promise);
    //* Promise¬†{<fulfilled>: '‚úÖ Success! Value passed to resolve function'}
    //? –∞–±–æ
    //! Promise¬†{<rejected>: '‚ùå Error! Error passed to reject function'}
}, 2500);

//? ‚ú≥Ô∏è –£ –∑–º—ñ–Ω–Ω—É promise –±—É–¥–µ –∑–∞–ø–∏—Å–∞–Ω–∏–π –ø—Ä–æ–º—ñ—Å (–æ–±'—î–∫—Ç) —É —Å—Ç–∞–Ω—ñ pending, 
//? –∞ —á–µ—Ä–µ–∑ –¥–≤—ñ —Å–µ–∫—É–Ω–¥–∏, —â–æ–π–Ω–æ –±—É–¥–µ –≤–∏–∫–ª–∏–∫–∞–Ω–∏–π resolve() –∞–±–æ reject(), 
//? –ø—Ä–æ–º—ñ—Å –ø–µ—Ä–µ–π–¥–µ —É —Å—Ç–∞–Ω fulfilled –∞–±–æ rejected, —ñ –º–∏ –∑–º–æ–∂–µ–º–æ –π–æ–≥–æ –æ–±—Ä–æ–±–∏—Ç–∏.
console.log("-----------------------------------------------------------------------------------");
